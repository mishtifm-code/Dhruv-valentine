<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dhruv üíò</title>
  <style>
    :root{
      --bg:#050505;
      --card:rgba(255,255,255,.06);
      --text:#f4f4f4;
      --muted:rgba(244,244,244,.72);
      --stroke:rgba(255,255,255,.14);
      --accent:#ff2d55;
      --shadow: 0 20px 60px rgba(0,0,0,.55);
      --radius:22px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--text);
      background:
        radial-gradient(900px 500px at 20% 25%, rgba(255,45,85,.18), transparent 60%),
        radial-gradient(900px 500px at 80% 65%, rgba(255,106,136,.14), transparent 60%),
        radial-gradient(700px 400px at 55% 15%, rgba(255,255,255,.06), transparent 60%),
        var(--bg);
      overflow:hidden;
    }

    .wrap{
      min-height:100%;
      display:grid;
      place-items:center;
      padding:24px;
      position:relative;
      z-index:1;
    }

    .card{
      width:min(520px, 92vw);
      background:linear-gradient(180deg, var(--card), rgba(255,255,255,.03));
      border:1px solid var(--stroke);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:28px 22px 22px;
      position:relative;
      overflow:hidden;
    }

    .card:before{
      content:"";
      position:absolute;
      inset:-2px;
      background: radial-gradient(400px 200px at 50% 0%, rgba(255,45,85,.25), transparent 60%);
      pointer-events:none;
    }

    .top{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:14px;
      position:relative;
      z-index:1;
    }

    .heart{
      width:74px; height:74px;
      display:grid; place-items:center;
      border-radius:20px;
      background:linear-gradient(135deg, rgba(255,45,85,.18), rgba(255,255,255,.06));
      border:1px solid var(--stroke);
      box-shadow: 0 12px 30px rgba(0,0,0,.35);
    }

    h1{
      margin:0;
      font-weight:750;
      letter-spacing:-0.02em;
      font-size: clamp(22px, 3.8vw, 30px);
      text-align:center;
      line-height:1.15;
    }

    .muted{
      margin:0;
      color:var(--muted);
      text-align:center;
      font-size:14px;
    }

    .arena{
      position:relative;
      height:120px;
      margin-top:18px;
      border-radius:18px;
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid rgba(255,255,255,.10);
      overflow:hidden;
      z-index:1;
    }

    .btn{
      position:absolute;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      padding:14px 18px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.06);
      color:var(--text);
      font-weight:650;
      font-size:16px;
      cursor:pointer;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
      min-width:140px;
      box-shadow: 0 10px 24px rgba(0,0,0,.35);
      touch-action: manipulation;
    }
    .btn:hover{ transform: translateY(-1px); }
    .btn:active{ transform: translateY(1px) scale(.99); }

    .btn-yes{
      left:50%;
      top:50%;
      transform: translate(-110%, -50%);
      background: linear-gradient(135deg, rgba(255,45,85,.40), rgba(255,106,136,.20));
      border-color: rgba(255,45,85,.45);
    }
    .btn-yes:hover{ background: linear-gradient(135deg, rgba(255,45,85,.52), rgba(255,106,136,.24)); }

    .btn-no{
      left:50%;
      top:50%;
      transform: translate(10%, -50%);
      background: rgba(255,255,255,.06);
    }

    .hint{
      margin-top:14px;
      font-size:12px;
      color: rgba(244,244,244,.60);
      text-align:center;
      position:relative;
      z-index:1;
    }

    /* Overlay */
    .overlay{
      position:fixed;
      inset:0;
      display:none;
      place-items:center;
      background: rgba(0,0,0,.78);
      backdrop-filter: blur(10px);
      z-index:50;
      padding:24px;
    }
    .overlay.open{ display:grid; }

    .modal{
      width:min(720px, 94vw);
      border-radius:26px;
      border:1px solid rgba(255,255,255,.14);
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
      box-shadow: 0 24px 90px rgba(0,0,0,.65);
      overflow:hidden;
    }

    .modal-head{
      padding:18px 18px 10px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:14px;
    }
    .modal-title{
      margin:0;
      font-size:18px;
      font-weight:750;
      letter-spacing:-0.01em;
    }

    .close{
      border:1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.06);
      color: var(--text);
      border-radius:999px;
      padding:10px 12px;
      cursor:pointer;
      font-weight:650;
    }

    .gif-wrap{
      padding:0 18px 18px;
      display:grid;
      gap:12px;
    }
    .gif{
      width:100%;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.45);
      overflow:hidden;
    }
    .gif img{
      display:block;
      width:100%;
      height:auto;
      max-height:62vh;
      object-fit:cover;
    }
    .msg{
      margin:0;
      color: rgba(244,244,244,.80);
      font-size:14px;
      line-height:1.35;
    }
    .msg strong{color:var(--text)}

    /* Confetti canvas on top of everything */
    #confetti{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:60;
    }

    @media (max-width: 420px){
      .arena{ height:140px; }
      .btn{ min-width: 132px; padding:14px 16px; }
    }
  </style>
</head>
<body>
  <canvas id="confetti"></canvas>

  <div class="wrap">
    <div class="card">
      <div class="top">
        <div class="heart" aria-hidden="true">
          <svg width="34" height="34" viewBox="0 0 24 24" fill="none">
            <path d="M12 21s-7-4.6-9.4-8.6C.3 9 .9 5.9 3.3 4.3c2.1-1.4 4.8-.8 6.2 1 1.4-1.8 4.1-2.4 6.2-1 2.4 1.6 3 4.7.7 8.1C19 16.4 12 21 12 21z"
              fill="rgba(255,45,85,.95)"/>
          </svg>
        </div>
        <h1><span id="name">Dhruv</span>, will you be my Valentine?</h1>
        <p class="muted">Don‚Äôt overthink it.</p>
      </div>

      <div class="arena" id="arena" aria-label="Choice area">
        <button class="btn btn-yes" id="yesBtn">Yes üíò</button>
        <button class="btn btn-no" id="noBtn">No üôÉ</button>
      </div>

      <div class="hint">‚ÄúNo‚Äù is‚Ä¶ unavailable.</div>
    </div>
  </div>

  <div class="overlay" id="overlay" role="dialog" aria-modal="true" aria-label="Valentine response">
    <div class="modal">
      <div class="modal-head">
        <p class="modal-title">Hehehe üòå</p>
        <button class="close" id="closeBtn">Close</button>
      </div>
      <div class="gif-wrap">
        <div class="gif">
          <!-- Put your Arteta screaming GIF in the same folder and name it arteta.gif -->
          <img id="gifImg" src="arteta.GIF" alt="Mikel Arteta screaming GIF">
        </div>
        <p class="msg"><strong>YAY.</strong> Screenshot this and send it to me immediately.</p>
      </div>
    </div>
  </div>

  <script>
    // ---------- "No" button dodging ----------
    const arena = document.getElementById("arena");
    const noBtn = document.getElementById("noBtn");
    const yesBtn = document.getElementById("yesBtn");
    const overlay = document.getElementById("overlay");
    const closeBtn = document.getElementById("closeBtn");

    function clamp(n, min, max){ return Math.max(min, Math.min(max, n)); }

    function placeNo(x, y){
      noBtn.style.left = x + "px";
      noBtn.style.top = y + "px";
      noBtn.style.transform = "translate(0,0)";
    }

    function randomNoPosition(){
      const r = arena.getBoundingClientRect();
      const b = noBtn.getBoundingClientRect();
      const pad = 10;
      const maxX = r.width - b.width - pad;
      const maxY = r.height - b.height - pad;
      placeNo(
        Math.floor(pad + Math.random() * Math.max(1, maxX - pad)),
        Math.floor(pad + Math.random() * Math.max(1, maxY - pad))
      );
    }

    function initNo(){
      // start on the right side
      const r = arena.getBoundingClientRect();
      placeNo(Math.floor(r.width * 0.62), Math.floor(r.height * 0.33));
    }

    // Make it dodge when the cursor is anywhere inside the arena (more evil than hover)
    function dodgeFromPointer(clientX, clientY){
      const r = arena.getBoundingClientRect();
      const b = noBtn.getBoundingClientRect();

      // pointer position relative to arena
      const px = clientX - r.left;
      const py = clientY - r.top;

      // button center relative to arena
      const bx = (parseFloat(noBtn.style.left) || 0) + b.width/2;
      const by = (parseFloat(noBtn.style.top) || 0) + b.height/2;

      const dx = bx - px;
      const dy = by - py;
      const dist = Math.hypot(dx, dy);

      // If pointer gets within this radius, jump away
      const danger = 140; // tweak
      if (dist < danger){
        // push away in opposite direction, with randomness
        const push = (danger - dist) + 80;
        const angle = Math.atan2(dy, dx) + (Math.random() - 0.5) * 0.9;

        const targetX = bx + Math.cos(angle) * push - b.width/2;
        const targetY = by + Math.sin(angle) * push - b.height/2;

        const pad = 10;
        const maxX = r.width - b.width - pad;
        const maxY = r.height - b.height - pad;

        placeNo(
          clamp(Math.floor(targetX), pad, Math.max(pad, maxX)),
          clamp(Math.floor(targetY), pad, Math.max(pad, maxY))
        );
      }
    }

    arena.addEventListener("mousemove", (e) => dodgeFromPointer(e.clientX, e.clientY));

    // Mobile: dodge when you try to tap it or touch inside arena
    arena.addEventListener("touchstart", (e) => {
      const t = e.touches[0];
      if (!t) return;
      dodgeFromPointer(t.clientX, t.clientY);
    }, { passive: true });

    noBtn.addEventListener("touchstart", (e) => {
      e.preventDefault();
      randomNoPosition();
    }, { passive: false });

    // ---------- Confetti ----------
    const canvas = document.getElementById("confetti");
    const ctx = canvas.getContext("2d");

    function resizeCanvas(){
      canvas.width = Math.floor(window.innerWidth * devicePixelRatio);
      canvas.height = Math.floor(window.innerHeight * devicePixelRatio);
      canvas.style.width = window.innerWidth + "px";
      canvas.style.height = window.innerHeight + "px";
      ctx.setTransform(devicePixelRatio, 0, 0, devicePixelRatio, 0, 0);
    }
    window.addEventListener("resize", resizeCanvas);
    resizeCanvas();

    let confettiPieces = [];
    let confettiRunning = false;

    function spawnConfettiBurst(){
      const count = 160;
      const originX = window.innerWidth / 2;
      const originY = window.innerHeight * 0.25;

      const palette = ["#ff2d55", "#ff6a88", "#ffffff", "#ffd1dc", "#ff9fb3"];

      for (let i=0; i<count; i++){
        const size = 6 + Math.random() * 6;
        const angle = (-Math.PI/2) + (Math.random() - 0.5) * 1.4;
        const speed = 6 + Math.random() * 10;

        confettiPieces.push({
          x: originX,
          y: originY,
          vx: Math.cos(angle) * speed,
          vy: Math.sin(angle) * speed,
          g: 0.22 + Math.random()*0.10,
          r: Math.random() * Math.PI,
          vr: (Math.random() - 0.5) * 0.25,
          w: size,
          h: size * (0.5 + Math.random()),
          color: palette[Math.floor(Math.random()*palette.length)],
          life: 0,
          maxLife: 240 + Math.floor(Math.random()*90)
        });
      }
    }

    function stepConfetti(){
      if (!confettiRunning) return;

      ctx.clearRect(0,0,window.innerWidth, window.innerHeight);

      confettiPieces = confettiPieces.filter(p => p.life < p.maxLife);

      for (const p of confettiPieces){
        p.life++;
        p.vy += p.g;
        p.x += p.vx;
        p.y += p.vy;
        p.r += p.vr;

        // gentle air drag
        p.vx *= 0.995;
        p.vy *= 0.995;

        ctx.save();
        ctx.translate(p.x, p.y);
        ctx.rotate(p.r);
        ctx.fillStyle = p.color;
        ctx.globalAlpha = Math.max(0, 1 - p.life / p.maxLife);
        ctx.fillRect(-p.w/2, -p.h/2, p.w, p.h);
        ctx.restore();
      }

      if (confettiPieces.length === 0){
        confettiRunning = false;
        ctx.clearRect(0,0,window.innerWidth, window.innerHeight);
        return;
      }

      requestAnimationFrame(stepConfetti);
    }

    function confetti(){
      confettiPieces = [];
      spawnConfettiBurst();
      confettiRunning = true;
      stepConfetti();
    }

    // ---------- Yes flow ----------
    yesBtn.addEventListener("click", () => {
      confetti();
      overlay.classList.add("open");
    });

    closeBtn.addEventListener("click", () => overlay.classList.remove("open"));
    overlay.addEventListener("click", (e) => {
      if (e.target === overlay) overlay.classList.remove("open");
    });

    // ---------- Init ----------
    window.addEventListener("load", () => {
      initNo();
      setTimeout(randomNoPosition, 400);
    });
  </script>
</body>
</html>
